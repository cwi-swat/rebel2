test SetId [[ 
  module Simple
  
  spec Simple
    id: Integer;
    
    event start(id: Integer) 
      post: this.id' = id;
    
    states:
      (*) -> started: start;
      started -> (*): start;  
]] 

test EventVariant [[
  module EV
  
  spec EV
    event base() 
      variant var
  
  states:
    (*) -> started: base::var;
    started -> (*): base;
]]

test MultipleSpecs [[
  module Multiple 
  
  spec Leader 
    follower: Follower;
    
    event start(follower: Follower) 
      post: this.follower' = follower;
  
  spec Follower
]]

test SetOfFollowers [[
  module Multiple
  
  spec Leader
    followers: set Follower;
    
    event start()
      post: this.followers' = {};
      
    event add(follower: Follower)
      post: this.followers' = this.followers + follower; 

    event hit()
      pre: forall f: this.followers | f.hit();
            
  spec Follower
    event hit()
]]

test SimpleCorrectConfig [[
  module Account
  
  spec Money
  
  spec Account
    balance: Money;
  
  config Simple = ac: Account, m: Money;
]]

test SimpleWrongConfig [[
  module Account
  
  spec Money
  
  spec Account
    balance: Money;
  
  config Simple = ac: Account;
]] expect {"Specification `Money` is referenced by specifications but no instance is declared in the configuration"}
