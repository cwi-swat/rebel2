module sync::triple::Leader

import sync::triple::Follower 
  
spec Leader   
  times: Integer,
  follower: Follower; 

  init event start(follower: Follower) 
    pre: 
      follower is waiting,
      follower.connected(); 
    post: 
      this.follower' = follower, 
      this.times' = 0; 
      
  event hit() 
    pre:  
      this.follower.hit();
    post: 
      this.times' = this.times + 1; 

  states:
    (*) -> active: start;
    active -> active: hit;     